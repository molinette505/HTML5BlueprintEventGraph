.pin-row {
    display: flex; align-items: center;
    height: 26px; position: relative; white-space: nowrap;
}

.pin-label {
    margin: 0 8px;
    color: #ccc; font-size: 11px; font-weight: 500;
    pointer-events: none;
}

.pin {
    width: 12px; height: 12px;
    box-sizing: border-box;
    border: 2px solid var(--pin-color);
    border-radius: 50%;
    background: transparent;
    cursor: crosshair;
    margin-top: 1px; flex-shrink: 0;
    pointer-events: all;
    transition: transform 0.1s;
}

.pin:hover {
    transform: scale(1.3);
    background-color: var(--pin-hover);
}

.pin.connected { background-color: var(--pin-color); }

.pin.snapped {
    transform: scale(1.6);
    box-shadow: 0 0 10px var(--pin-snap);
    background-color: var(--pin-color) !important;
    border-color: var(--pin-snap) !important;
}

.pin.exec {
    border-radius: 0; width: 14px; height: 15px;
    border: none; background: none;
    clip-path: polygon(0 0, 80% 0, 100% 50%, 80% 100%, 0 100%);
    background-color: var(--pin-exec-inner);
    opacity: 0.9; margin-top: 0;
}
.pin.exec:hover { opacity: 1; transform: scale(1.2); }

/* --- WIDGETS --- */
.node-widget {
    background: var(--widget-bg);
    border: 1px solid var(--widget-border);
    color: var(--widget-text);
    border-radius: 3px;
    font-size: 11px;
    padding: 2px 4px;
    margin: 0 4px;
    height: 18px;
    font-family: monospace;
    pointer-events: all;
    display: inline-block;
}

select.node-widget { width: auto; max-width: 160px; cursor: pointer; }

input[type="checkbox"].node-widget { width: 16px; height: 16px; cursor: pointer; vertical-align: middle; }

input[type="color"].node-widget {
    padding: 0; border: none; width: 16px !important; height: 16px;
    cursor: pointer; background: none;
}
input[type="color"]::-webkit-color-swatch-wrapper { padding: 0; }
input[type="color"]::-webkit-color-swatch { border: 1px solid #555; border-radius: 2px; }

.widget-vec3 { display: flex; gap: 2px; pointer-events: all; }
.widget-vec3 input {
    width: 35px; text-align: center;
    border: 1px solid var(--widget-border); 
    background: var(--widget-bg); 
    color: var(--text-dim);
    font-size: 10px; border-radius: 2px;
}

.pin-row.has-connection .node-widget, 
.pin-row.has-connection .widget-vec3 {
    display: none !important;
}