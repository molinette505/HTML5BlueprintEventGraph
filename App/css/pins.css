.pin-row {
    display: flex; align-items: center;
    height: 26px;
    position: relative;
    white-space: nowrap;
}

.pin-label {
    margin: 0 8px;
    color: #ccc; font-size: 11px; font-weight: 500;
    pointer-events: none;
}

/* PIN SHAPE */
.pin {
    width: 12px; height: 12px;
    box-sizing: border-box;
    border: 2px solid var(--pin-color);
    border-radius: 50%;
    background: transparent;
    cursor: crosshair;
    margin-top: 1px; flex-shrink: 0;
    pointer-events: all;
    transition: transform 0.1s;
}

.pin:hover {
    transform: scale(1.3);
    background-color: rgba(255,255,255,0.3);
}

.pin.connected { background-color: var(--pin-color); }

.pin.snapped {
    transform: scale(1.6);
    box-shadow: 0 0 10px white;
    background-color: var(--pin-color) !important;
    border-color: white !important;
}

/* EXEC PINS */
.pin.exec {
    border-radius: 0; width: 14px; height: 15px;
    border: none; background: none;
    clip-path: polygon(0 0, 80% 0, 100% 50%, 80% 100%, 0 100%);
    background-color: white;
    opacity: 0.9; margin-top: 0;
}
.pin.exec:hover { opacity: 1; transform: scale(1.2); }

/* --- WIDGETS --- */
.node-widget {
    background: #111;
    border: 1px solid #333;
    color: white;
    border-radius: 3px;
    font-size: 11px;
    padding: 2px 4px;
    margin: 0 4px;
    height: 18px;
    font-family: monospace;
    pointer-events: all;
    display: inline-block;
}

/* DROPDOWN */
select.node-widget {
    width: auto;
    max-width: 160px;
    cursor: pointer;
}

/* CHECKBOX */
input[type="checkbox"].node-widget {
    width: 16px; height: 16px;
    cursor: pointer;
    vertical-align: middle;
}

/* COLOR PICKER */
input[type="color"].node-widget {
    padding: 0; border: none;
    width: 16px !important; height: 16px;
    cursor: pointer; background: none;
}
input[type="color"]::-webkit-color-swatch-wrapper { padding: 0; }
input[type="color"]::-webkit-color-swatch { border: 1px solid #555; border-radius: 2px; }

/* VECTOR 3 */
.widget-vec3 { display: flex; gap: 2px; pointer-events: all; }
.widget-vec3 input {
    width: 35px; text-align: center;
    border: 1px solid #333; background: #111; color: #ddd;
    font-size: 10px; border-radius: 2px;
}

/* Hide widgets when connected */
.pin-row.has-connection .node-widget, 
.pin-row.has-connection .widget-vec3 {
    display: none !important;
}